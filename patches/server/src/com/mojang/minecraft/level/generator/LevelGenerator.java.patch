--- a/src/com/mojang/minecraft/level/generator/LevelGenerator.java
+++ b/src/com/mojang/minecraft/level/generator/LevelGenerator.java
@@ -9,28 +9,60 @@
 import java.util.ArrayList;
 import java.util.Random;
 
-public final class LevelGenerator {
+public class LevelGenerator {
 
    private MinecraftServer server;
-   private int width;
-   private int depth;
-   private int height;
-   private Random random = new Random();
-   private byte[] blocks;
-   private int waterLevel;
-   private int[] h = new int[1048576];
+   public int width = 256;
+   public int depth = 256;
+   public int height = 64;
+   public Random random;
+   public byte[] blocks;
+   public int waterLevel = 32;
+   private int[] h = new int[]{};
+
+   public int getWidth()
+   {
+      return width;
+   }
+
+   public int getDepth()
+   {
+      return depth;
+   }
+
+   public int getHeight()
+   {
+      return height;
+   }
+
+   public void setHeight(int h)
+   {
+      this.height = h;
+   }
 
+   public void setDepth(int d)
+   {
+      this.depth = d;
+   }
+
+   public void setWidth(int w)
+   {
+      this.width = w;
+   }
+
+   public LevelGenerator(MinecraftServer var1, long seed) {
+      this.server = var1;
+      this.random = new Random(seed);
+   }
 
    public LevelGenerator(MinecraftServer var1) {
       this.server = var1;
+      this.random = new Random();
    }
 
-   public final Level generate(String var1, int var2, int var3, int var4) {
+   public Level generate(String var1) {
+      int var3;
       this.server.a("Generating level");
-      this.width = 256;
-      this.depth = 256;
-      this.height = 64;
-      this.waterLevel = 32;
       this.blocks = new byte[256 << 8 << 6];
       this.server.b("Raising..");
       LevelGenerator var41 = this;
@@ -464,7 +496,7 @@
                if((var19 = this.blocks[var2 - this.width] == 0) && !var23) {
                   if(var22 == this.h.length) {
                      var21.add(this.h);
-                     this.h = new int[1048576];
+                     this.h = new int[]{};
                      var22 = 0;
                   }
 
@@ -478,7 +510,7 @@
                if((var19 = this.blocks[var2 + this.width] == 0) && !var24) {
                   if(var22 == this.h.length) {
                      var21.add(this.h);
-                     this.h = new int[1048576];
+                     this.h = new int[]{};
                      var22 = 0;
                   }
 
@@ -497,7 +529,7 @@
                if((var19 = var25 == 0) && !var18) {
                   if(var22 == this.h.length) {
                      var21.add(this.h);
-                     this.h = new int[1048576];
+                     this.h = new int[]{};
                      var22 = 0;
                   }
 
